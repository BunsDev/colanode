generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model accounts {
  id         String    @id @db.VarChar(30)
  name       String    @db.VarChar(256)
  email      String    @unique(map: "IX_accounts_email") @db.VarChar(256)
  avatar     String?   @db.VarChar(256)
  password   String?   @db.VarChar(256)
  attrs      Json?     @default("null")
  createdAt  DateTime  @db.Timestamptz(6) @map("created_at")
  updatedAt  DateTime? @db.Timestamptz(6) @map("updated_at")
  status     Int

  @@map("accounts")
}

model workspaces {
  id         String    @id @db.VarChar(30)
  name       String    @db.VarChar(256)
  attrs      Json?     @default("null")
  createdAt  DateTime  @db.Timestamptz(6) @map("created_at")
  createdBy  String    @db.VarChar(30) @map("created_by")
  updatedAt  DateTime? @db.Timestamptz(6) @map("updated_at")
  updatedBy  String?   @db.VarChar(30) @map("updated_by")
  status     Int

  @@map("workspaces")
}

model workspaceAccounts {
  workspaceId   String    @db.VarChar(30) @map("workspace_id")
  accountId     String    @db.VarChar(30) @map("account_id")
  role          Int
  attrs         Json?     @default("null")
  createdAt     DateTime  @db.Timestamptz(6) @map("created_at")
  createdBy     String    @db.VarChar(30) @map("created_by")
  updatedAt     DateTime? @db.Timestamptz(6) @map("updated_at")
  updatedBy     String?   @db.VarChar(30) @map("updated_by")
  status        Int

  @@map("workspace_accounts")
  @@id([workspaceId, accountId])
}

model nodes {
  id          String    @id @db.VarChar(30)
  workspaceId String    @db.VarChar(30) @map("workspace_id")
  parentId    String?   @db.VarChar(30) @map("parent_id")
  type        String    @db.VarChar(30)
  attrs       Json?
  content     Json?
  createdAt   DateTime  @db.Timestamptz(6) @map("created_at")
  createdBy   String    @db.VarChar(30) @map("created_by")
  updatedAt   DateTime? @db.Timestamptz(6) @map("updated_at")
  updatedBy   String?   @db.VarChar(30) @map("updated_by")
  versionId   String    @db.VarChar(30) @map("version_id")

  @@map("nodes")
}
